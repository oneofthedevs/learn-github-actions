name: "PUSH: Build Application"
on: [push, pull_request]
jobs:
  build-job:
    runs-on: ubuntu-latest
    steps:
      - name: Fetching Node Image
        uses: actions/setup-node@v2
        with:
          node-version: 14
      - name: Fetching Code from current repo
        uses: actions/checkout@v2
      - name: Installing dependencies
        run: npm install --production
      - name: Building the project
        run: npm run build
      - name: Deploy on Vercel
        env:
          VERCEL_ORG_ID: CsrAvyTj6mXBbsvEctpBBZQt
          VERCEL_PROJECT_ID: prj_oZ60JBuVbxOnONdwcYuzfcJhmCqO
        run: |
          cd build
          yarn deploy-vc
      - name: DONE
        run: echo "It's Done, it will always be done"
